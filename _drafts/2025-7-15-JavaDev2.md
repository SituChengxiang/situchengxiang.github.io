
```meraid
sequenceDiagram
    participant C as Controller
    participant S as Service
    participant M as Manager
    participant D as DAO
    participant Cache as Redis
    
    C->>S: 查询条件(query)
    S->>D: listByQuery(query)
    D-->>S: 返回List<Announcement>
    S->>M: getNicknamesByIds(userIds)
    M->>Cache: 批量查询缓存
    Cache-->>M: 返回部分昵称
    M->>D: 批量查询缺失ID的昵称
    D-->>M: 返回昵称数据
    M->>Cache: 缓存缺失数据
    M-->>S: 返回完整昵称Map
    S->>S: 组装ListItemDTO
    S-->>C: 返回List<ListItemDTO>
    C-->>前端: 响应结果
```